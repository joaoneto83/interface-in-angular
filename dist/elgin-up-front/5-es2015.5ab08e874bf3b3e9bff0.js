(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7QUs":function(i,o,n){"use strict";n.r(o),o.default=""},"s/fH":function(i,o,n){"use strict";n.r(o),n.d(o,"DireLoginModule",(function(){return b}));var t=n("mrSG"),e=n("fXoL"),r=n("ofXK"),s=n("tyNb"),a=n("3Pt+"),l=n("tk/3"),d=n("y6c6"),c=n("fAXS"),g=n("kB2m"),h=n("PSD3"),u=n.n(h),p=n("3+1f");let m=class{constructor(i,o,n,t,e,r){this.loadingService=i,this.tokenService=o,this.usuarioService=n,this.formBuilder=t,this.activatedRoute=e,this.router=r,this.passo=1}ngOnInit(){this.router.navigate(["/login"])}login(){if(!this.formLogin.valid||this.formLogin.pending)return this.loginvazio(),void Object.keys(this.formLogin.controls).forEach(i=>{this.formLogin.get(i).markAsTouched()});{this.loadingService.show();let i=this.formLogin.controls.senha.value;this.tokenService.setToken(this.formLogin.controls.login.value,i).subscribe(i=>this.loginSuccess(i),i=>this.loginError(i))}}initFormNovaSenha(){this.formNovaSenha=this.formBuilder.group({password:["",[a.g.required]],confirmPassword:["",[a.g.required]]}),this.formNovaSenha.setValidators([p.a.MatchPassword])}hasErrorLogin(i){return this.formLogin.get(i).invalid&&(this.formLogin.get(i).dirty||this.formLogin.get(i).touched)}loginError(i){console.log(i),this.loadingService.hide(),u.a.fire("Aten\xe7\xe3o","Login/Senha inv\xe1lidos.","warning")}loginvazio(){this.loadingService.hide(),u.a.fire("Aten\xe7\xe3o","por favor, informe usu\xe1rio e senha.","warning")}loginSuccess(i){let o=JSON.parse(i).result.data.token.toString();console.log("res",o),this.loadingService.hide(),this.tokenService.getTokenSuccess(o),this.router.navigate(["/inicio"])}enviarCodigo(){this.formResetar.controls.codigo.valid&&(this.loadingService.show(),this.usuarioService.validarCodigo(this.formLogin.controls.login.value,this.formResetar.controls.codigo.value).subscribe(i=>this.validarSuccess(i),i=>this.validarError(i)))}validarError(i){console.log(i),this.loadingService.hide(),u.a.fire("Aten\xe7\xe3o","C\xf3digo inv\xe1lido.","warning")}validarSuccess(i){this.loadingService.hide(),i?(this.passo=3,this.initFormNovaSenha()):u.a.fire("Aten\xe7\xe3o","C\xf3digo inv\xe1lido.","warning")}};m.ctorParameters=()=>[{type:c.a},{type:g.a},{type:d.a},{type:a.a},{type:s.a},{type:s.b}],m=Object(t.a)([Object(e.o)({selector:"app-direlogin",template:Object(t.b)(n("7QUs")).default,styles:[Object(t.b)(n("vCN5")).default]})],m);const f=[{path:"",component:m}];let v=class{};v=Object(t.a)([Object(e.M)({imports:[s.c.forChild(f)],exports:[s.c]})],v);let b=class{};b=Object(t.a)([Object(e.M)({declarations:[m],imports:[r.b,v,s.c,a.b,a.f,l.c],exports:[m],schemas:[e.j]})],b)},vCN5:function(i,o,n){"use strict";n.r(o),o.default="@media (max-width: 375px) {\n  .login {\n    width: 300px !important;\n  }\n}\n.has-danger .ng-invalid {\n  border-bottom: 0.5px solid red;\n}\n.login {\n  width: 350px;\n  border-radius: 10px !important;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n}\n.login .elgin-up-logo {\n  text-align: center;\n}\n.login .elgin-up-logo img {\n  max-width: 226px;\n  height: auto;\n}\n.login form label {\n  color: #9B9A9A;\n  font-size: var(--default-text);\n  margin-bottom: 5px;\n  margin-left: 5px;\n}\n.login form input {\n  border-radius: 10px;\n}\n.login form button[type=submit] {\n  margin: 1rem 0;\n  padding: 0.575rem 0.75rem;\n  background-color: var(--primary);\n  font-size: var(--default-text);\n  text-transform: uppercase;\n  width: 100%;\n  border: 1px solid #E5E5E5;\n  border-radius: 25px;\n  transition: 0.3s;\n}\n.login form button[type=submit]:hover {\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n}\n.login a {\n  display: block;\n  text-align: center;\n  margin: 1rem 0;\n  font-size: var(--default-text);\n  text-decoration: underline;\n}"}}]);