{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{\"7QUs\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=\"\"},\"s/fH\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"DireLoginModule\",(function(){return DireLoginModule}));var tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),http=__webpack_require__(\"tk/3\"),adm_usuario_service=__webpack_require__(\"y6c6\"),loading_service=__webpack_require__(\"fAXS\"),token_service=__webpack_require__(\"kB2m\"),sweetalert2_all=__webpack_require__(\"PSD3\"),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all),password_validator=__webpack_require__(\"3+1f\");let login_component_DireLoginComponent=class{constructor(loadingService,tokenService,usuarioService,formBuilder,activatedRoute,router){this.loadingService=loadingService,this.tokenService=tokenService,this.usuarioService=usuarioService,this.formBuilder=formBuilder,this.activatedRoute=activatedRoute,this.router=router,this.passo=1}ngOnInit(){this.router.navigate([\"/login\"])}login(){if(!this.formLogin.valid||this.formLogin.pending)return this.loginvazio(),void Object.keys(this.formLogin.controls).forEach(key=>{this.formLogin.get(key).markAsTouched()});{this.loadingService.show();let senha=this.formLogin.controls.senha.value;this.tokenService.setToken(this.formLogin.controls.login.value,senha).subscribe(res=>this.loginSuccess(res),err=>this.loginError(err))}}initFormNovaSenha(){this.formNovaSenha=this.formBuilder.group({password:[\"\",[fesm2015_forms.g.required]],confirmPassword:[\"\",[fesm2015_forms.g.required]]}),this.formNovaSenha.setValidators([password_validator.a.MatchPassword])}hasErrorLogin(id){return this.formLogin.get(id).invalid&&(this.formLogin.get(id).dirty||this.formLogin.get(id).touched)}loginError(err){console.log(err),this.loadingService.hide(),sweetalert2_all_default.a.fire(\"Atenção\",\"Login/Senha inválidos.\",\"warning\")}loginvazio(){this.loadingService.hide(),sweetalert2_all_default.a.fire(\"Atenção\",\"por favor, informe usuário e senha.\",\"warning\")}loginSuccess(res){let token=JSON.parse(res).result.data.token.toString();console.log(\"res\",token),this.loadingService.hide(),this.tokenService.getTokenSuccess(token),this.router.navigate([\"/inicio\"])}enviarCodigo(){this.formResetar.controls.codigo.valid&&(this.loadingService.show(),this.usuarioService.validarCodigo(this.formLogin.controls.login.value,this.formResetar.controls.codigo.value).subscribe(res=>this.validarSuccess(res),err=>this.validarError(err)))}validarError(err){console.log(err),this.loadingService.hide(),sweetalert2_all_default.a.fire(\"Atenção\",\"Código inválido.\",\"warning\")}validarSuccess(res){this.loadingService.hide(),res?(this.passo=3,this.initFormNovaSenha()):sweetalert2_all_default.a.fire(\"Atenção\",\"Código inválido.\",\"warning\")}};login_component_DireLoginComponent.ctorParameters=()=>[{type:loading_service.a},{type:token_service.a},{type:adm_usuario_service.a},{type:fesm2015_forms.a},{type:router.a},{type:router.b}],login_component_DireLoginComponent=Object(tslib_es6.a)([Object(core.o)({selector:\"app-direlogin\",template:Object(tslib_es6.b)(__webpack_require__(\"7QUs\")).default,styles:[Object(tslib_es6.b)(__webpack_require__(\"vCN5\")).default]})],login_component_DireLoginComponent);const routes=[{path:\"\",component:login_component_DireLoginComponent}];let DireLoginRoutingModule=class{};DireLoginRoutingModule=Object(tslib_es6.a)([Object(core.M)({imports:[router.c.forChild(routes)],exports:[router.c]})],DireLoginRoutingModule);let DireLoginModule=class{};DireLoginModule=Object(tslib_es6.a)([Object(core.M)({declarations:[login_component_DireLoginComponent],imports:[common.b,DireLoginRoutingModule,router.c,fesm2015_forms.b,fesm2015_forms.f,http.c],exports:[login_component_DireLoginComponent],schemas:[core.j]})],DireLoginModule)},vCN5:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=\"@media (max-width: 375px) {\\n  .login {\\n    width: 300px !important;\\n  }\\n}\\n.has-danger .ng-invalid {\\n  border-bottom: 0.5px solid red;\\n}\\n.login {\\n  width: 350px;\\n  border-radius: 10px !important;\\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\\n}\\n.login .elgin-up-logo {\\n  text-align: center;\\n}\\n.login .elgin-up-logo img {\\n  max-width: 226px;\\n  height: auto;\\n}\\n.login form label {\\n  color: #9B9A9A;\\n  font-size: var(--default-text);\\n  margin-bottom: 5px;\\n  margin-left: 5px;\\n}\\n.login form input {\\n  border-radius: 10px;\\n}\\n.login form button[type=submit] {\\n  margin: 1rem 0;\\n  padding: 0.575rem 0.75rem;\\n  background-color: var(--primary);\\n  font-size: var(--default-text);\\n  text-transform: uppercase;\\n  width: 100%;\\n  border: 1px solid #E5E5E5;\\n  border-radius: 25px;\\n  transition: 0.3s;\\n}\\n.login form button[type=submit]:hover {\\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\\n}\\n.login a {\\n  display: block;\\n  text-align: center;\\n  margin: 1rem 0;\\n  font-size: var(--default-text);\\n  text-decoration: underline;\\n}\"}}]);","extractedComments":[]}